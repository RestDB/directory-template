{{#extend "layout"}}
{{#content "main"}}
    <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
            <h1 class="card-title text-2xl mb-4">All Categories</h1>
            
            {{#each allCategories as |listings category|}}
            <div class="mb-8 last:mb-0">
                <h2 class="text-xl font-semibold mb-4">{{category}}</h2>
                <div class="flex flex-col gap-4">
                    {{#each listings}}
                    <a href="/{{categorySlug}}/{{slug}}/{{_id}}" class="flex items-center gap-4 p-4 bg-base-200 rounded-lg hover:bg-base-300 transition-colors cursor-pointer">
                        <div class="avatar">
                            <div class="w-16 h-16 rounded">
                                {{#if imageUrl}}
                                <img src="{{imageUrl}}" alt="{{title}}" />
                                {{else}}
                                <div class="w-16 h-16 rounded bg-base-300 flex items-center justify-center">
                                    <span class="text-sm opacity-70">No image</span>
                                </div>
                                {{/if}}
                            </div>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold">{{title}}</h3>
                            <p class="text-sm opacity-70">{{this.content}}</p>
                        </div>
                    </a>
                    {{/each}}
                </div>
            </div>
            {{/each}}
        </div>
    </div>
{{/content}}
{{/extend}}
